import { ensureAdminApp } from "vuefire/server";
import { defineNuxtPlugin, useRequestEvent, useRuntimeConfig } from "#app";
export default defineNuxtPlugin(() => {
  const event = useRequestEvent();
  const { vuefire } = useRuntimeConfig();
  const firebaseAdminApp = ensureAdminApp(vuefire?.options?.admin?.options);
  event.context.firebaseApp = firebaseAdminApp;
  return {
    provide: {
      firebaseAdminApp
    }
  };
});
