import { isSupported, initializeAnalytics } from "firebase/analytics";
import { defineNuxtPlugin, useAppConfig } from "#app";
export default defineNuxtPlugin(async (nuxtApp) => {
  const appConfig = useAppConfig();
  const options = appConfig.vuefireOptions.analytics;
  const firebaseApp = nuxtApp.$firebaseApp;
  if (await isSupported()) {
    initializeAnalytics(firebaseApp, options);
  } else {
    console.info(
      "[nuxt-vuefire]: Firebase Analytics is not supported on this platform."
    );
  }
});
